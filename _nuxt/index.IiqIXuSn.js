import{f as V,r as g,g as x,h as w,o as m,c as d,n as S,i as $,a as y,j as i,k as C,b as h,l as r,m as b,w as k,F as R,q as T,s as U,d as P,v as L,_ as N}from"./entry.1nbJdaJs.js";import{_ as z}from"./UiButton.vue.sJwhOspV.js";import{_ as B}from"./_plugin-vue_export-helper.x3n3nnut.js";const E=["value"],I=V({__name:"UiTextarea",props:{modelValue:{}},emits:["update:modelValue"],setup(u,{emit:e}){const a=u,o=g();function l(){if(!o.value)return!1;o.value.style.height="5px",o.value.style.height=o.value.scrollHeight+"px"}function t(n){const s=n.target;e("update:modelValue",s.value),l()}return x(()=>a.modelValue,async()=>{await S(),l()}),w(()=>{l()}),(n,s)=>(m(),d("textarea",{ref_key:"textareaRef",ref:o,value:n.modelValue,cols:"1",class:"UiTextarea --medium-size",onInput:t},null,40,E))}});let M=(u=21)=>crypto.getRandomValues(new Uint8Array(u)).reduce((e,a)=>(a&=63,a<36?e+=a.toString(36):a<62?e+=(a-26).toString(36).toUpperCase():a>62?e+="-":e+="_",e),"");const A=L(()=>N(()=>import("./ListItem.o3NKaOzw.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(u=>u.default||u)),F={class:"IndexPage"},q=V({__name:"index",setup(u){const e=$();function a(){const t=g("");return{actualValue:t,onSubmit:async()=>{if(!t.value)return!1;t.value.split(`
`).forEach(s=>{const[p,_]=s.split(/,\s*|,/);e.addProduct({id:M(4),product:{name:p,count:Number(_||1)}})}),t.value="",setTimeout(()=>{const s=document.querySelector("#product-input");s==null||s.focus()},100)}}}const{onSubmit:o,actualValue:l}=a();return(t,n)=>{const s=I,p=z,_=A;return m(),d("div",F,[y("div",{class:i(t.$style.wrapper)},[y("form",{class:i(t.$style.header),onSubmit:n[1]||(n[1]=C((...c)=>r(o)&&r(o)(...c),["prevent"]))},[h(s,{id:"product-input",modelValue:r(l),"onUpdate:modelValue":n[0]||(n[0]=c=>b(l)?l.value=c:null),placeholder:"Введите название",class:i(t.$style.input)},null,8,["modelValue","class"]),h(p,{disabled:!r(l),class:i(t.$style.button)},{default:k(()=>[P(" Добавить ")]),_:1},8,["disabled","class"])],34),r(e).hasCurrent?(m(),d("ul",{key:0,class:i(t.$style.list)},[(m(!0),d(R,null,T(r(e).current,(c,f)=>(m(),d("li",{key:f},[h(_,{name:c.name,count:c.count,onRemove:v=>r(e).removeProduct(f),onChange:v=>r(e).changeProduct(f,{...c,...v})},null,8,["name","count","onRemove","onChange"])]))),128))],2)):U("",!0)],2)])}}}),H="_wrapper_fdmyp_10",j="_header_fdmyp_24",D="_input_fdmyp_40",O="_button_fdmyp_49",G="_list_fdmyp_53",J={wrapper:H,header:j,input:D,button:O,list:G},K={$style:J},Y=B(q,[["__cssModules",K]]);export{Y as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./ListItem.o3NKaOzw.js","./entry.1nbJdaJs.js","./entry.ZaMkzaTw.css","./_plugin-vue_export-helper.x3n3nnut.js","./ListItem.xMp-x_XB.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}

import{M as w,S as V,_ as k}from"./UiButton.vue.ce20ac84.js";import{i as $,o as u,j as z,n as M,k as F,l,w as y,m as C,f as U,c as m,b as r,q as t,a as _,d as h,t as j,s as I,x as L,y as B,z as N,F as P,h as R,r as q,A}from"./entry.65a277f4.js";import{_ as D}from"./svg-icon.vue.8b7d533d.js";import{_ as b}from"./_plugin-vue_export-helper.c27b6911.js";const E=$({__name:"UiInput",setup(n){return(s,e)=>(u(),z(l(w),M(F(s.$attrs)),null,16))}});const T=$({__name:"UiFormCell",setup(n){return(s,e)=>(u(),z(l(V),null,{default:y(()=>[C(s.$slots,"default")]),info:y(()=>[C(s.$slots,"info")]),_:3}))}});let x=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((s,e)=>(e&=63,e<36?s+=e.toString(36):e<62?s+=(e-26).toString(36).toUpperCase():e>62?s+="-":s+="_",s),"");const G=$({__name:"UiIcon",props:{name:{type:String,required:!0},size:{type:String,default:"medium",validator:n=>["xx-small","x-small","small","medium","large","x-large","xx-large","custom"].includes(n)}},setup(n){const s=n,e=U(()=>[[`--${s.size}-size`]]);return(a,c)=>{const o=D;return u(),m("div",{class:t([l(e),"UiIcon"])},[r(o,{name:n.name,class:"UiIcon__el"},null,8,["name"])],2)}}});function H(){const n="0123456789ABCDEF";let s="#";for(let e=0;e<6;e++)s+=n[Math.floor(Math.random()*16)];return s}const J={class:"ListItem"},K=$({__name:"ListItem",props:{icon:{type:String,default:"custom"},name:{type:String,required:!0},count:{type:[Number,String],required:!0}},emits:["change","remove"],setup(n){const s=U(()=>[{"--icon-color":H()}]);return(e,a)=>{const c=G;return u(),m("div",J,[_("div",{style:L(l(s)),class:t(e.$style.wrapper)},[r(c,{name:"product/custom",class:t(e.$style.icon)},null,8,["class"]),_("div",{class:t(e.$style.name)},[h(j(n.name)+" ",1),+n.count>1?(u(),m("div",{key:0,class:t(e.$style.count)},j(n.count),3)):I("",!0)],2),_("div",{class:t(e.$style.action)},[_("div",{class:t(e.$style.change)},[r(c,{name:"ui/plus",class:t(e.$style.plus),onClick:a[0]||(a[0]=o=>e.$emit("change",{count:+n.count+1}))},null,8,["class"]),r(c,{name:"ui/minus",class:t([e.$style.minus,{[e.$style["--is-disabled"]]:+n.count<2}]),onClick:a[1]||(a[1]=o=>e.$emit("change",{count:+n.count-1}))},null,8,["class"])],2),r(c,{name:"ui/remove",class:t(e.$style.remove),onClick:a[2]||(a[2]=o=>e.$emit("remove"))},null,8,["class"])],2)],6)])}}}),O="_wrapper_1hzje_10",Q="_icon_1hzje_21",W="_name_1hzje_26",X="_count_1hzje_33",Y="_action_1hzje_41",Z="_change_1hzje_47",ee="_plus_1hzje_53",se="_minus_1hzje_54",ne="_remove_1hzje_71",te={wrapper:O,icon:Q,name:W,count:X,action:Y,change:Z,plus:ee,minus:se,"--is-disabled":"_--is-disabled_1hzje_66",remove:ne},oe={$style:te},le=b(K,[["__cssModules",oe]]),ae={class:"IndexPage"},ce=$({__name:"index",setup(n){const s=B();function e(){const o=q("");return{actualValue:o,onSubmit:async()=>{const[f,v]=o.value.split(/,\s*|,/);s.addProduct({id:x(4),product:{name:f,count:Number(v||1),icon:"custom"}}),o.value="",setTimeout(()=>{const p=document.querySelector("#product-input");p==null||p.focus()},100)}}}const{onSubmit:a,actualValue:c}=e();return(o,d)=>{const f=E,v=T,p=k;return u(),m("div",ae,[_("div",{class:t(o.$style.wrapper)},[_("form",{class:t(o.$style.header),onSubmit:d[1]||(d[1]=N((...i)=>l(a)&&l(a)(...i),["prevent"]))},[r(v,{class:t(o.$style.cell)},{default:y(()=>[r(f,{id:"product-input",modelValue:l(c),"onUpdate:modelValue":d[0]||(d[0]=i=>A(c)?c.value=i:null),placeholder:"Введите название",class:t(o.$style.input)},null,8,["modelValue","class"])]),info:y(()=>[h(" Если нужно кол-во, укажите через запятую ")]),_:1},8,["class"]),r(p,{disabled:!l(c),class:t(o.$style.button)},{default:y(()=>[h(" Добавить ")]),_:1},8,["disabled","class"])],34),l(s).hasCurrent?(u(),m("ul",{key:0,class:t(o.$style.list)},[(u(!0),m(P,null,R(l(s).current,(i,g)=>(u(),m("li",{key:g},[r(le,{icon:i.icon,name:i.name,count:i.count,onRemove:S=>l(s).removeProduct(g),onChange:S=>l(s).changeProduct(g,{...i,...S})},null,8,["icon","name","count","onRemove","onChange"])]))),128))],2)):I("",!0)],2)])}}}),ue="_wrapper_uyjom_10",re="_header_uyjom_18",ie="_cell_uyjom_24",me="_input_uyjom_28",_e="_button_uyjom_32",de="_list_uyjom_36",pe={wrapper:ue,header:re,cell:ie,input:me,button:_e,list:de},ye={$style:pe},he=b(ce,[["__cssModules",ye]]);export{he as default};

import{_ as N}from"./UiInput.vue.kXHa0los.js";import{_ as T}from"./NuxtLinkLocale.feuzMoYK.js";import{_ as P}from"./UiButton.vue.B7X74Jcv.js";import{d as q,j as E,A as I,k as z,l as A,z as D,P as w,p as h,u as F,a as j,w as G,c as n,b as y,t as o,f as r,r as s,q as d,T as O,n as $,B as R,i as u,e as c,F as b,D as x,g as H,h as J,_ as K}from"./entry.DlqHIhoZ.js";const Q={class:"RegisterPage"},W=q({__name:"register",setup(se){const V=E(),k=I(),m=z();A({title:()=>m.t("pages.register.title")});const i=D(!1),a=w({email:"",password:""}),t=w({status:"",details:""}),v=h(()=>m.t(`pages.register.info.${t.status}`));async function C(){if(i.value)return!1;t.details="",t.status="";try{i.value=!0;const{error:e}=await V.auth.signUp(a);e?(t.details=e.message,t.status="error"):t.status="success"}catch(e){t.status="undefinedError",console.error("register_PAGE:ON_SUBMIT:",e)}finally{i.value=!1}}const M=h(()=>[[k[`--${t.status}-status`]]]),S=F(),U=j();return G(S,async e=>{e&&(await H(),await J(U("/"),{replace:!0}))},{immediate:!0}),(e,l)=>{var f,_;const g=N,B=T,L=P;return u(),n("div",Q,[y("form",{class:$(e.$style.wrapper),onSubmit:R(C,["prevent"])},[y("h3",null,o(e.$t("pages.register.subtitle")),1),r(g,{id:"register-email",modelValue:s(a).email,"onUpdate:modelValue":l[0]||(l[0]=p=>s(a).email=p),maxlength:"255",autocomplete:"email",required:"",type:"email",placeholder:e.$t("pages.register.email.placeholder"),title:e.$t("pages.register.email.title")},null,8,["modelValue","placeholder","title"]),r(g,{id:"register-password",modelValue:s(a).password,"onUpdate:modelValue":l[1]||(l[1]=p=>s(a).password=p),maxlength:"255",autocomplete:"password",required:"",type:"password",placeholder:e.$t("pages.register.password.placeholder"),title:e.$t("pages.register.password.title")},null,8,["modelValue","placeholder","title"]),r(B,{to:"/login"},{default:d(()=>[c(o(e.$t("pages.register.loginLink")),1)]),_:1}),r(L,{disabled:!((f=s(a).email)!=null&&f.length)&&!((_=s(a).password)!=null&&_.length)},{default:d(()=>[s(i)?(u(),n(b,{key:0},[c(o(e.$t("pages.register.button.loading")),1)],64)):(u(),n(b,{key:1},[c(o(e.$t("pages.register.button.submit")),1)],64))]),_:1},8,["disabled"]),r(O,{name:"bottom",mode:"out-in"},{default:d(()=>[s(t).status?(u(),n("div",{key:0,class:$([e.$style.info,s(M)])},o(s(v))+" "+o(s(t).details),3)):x("",!0)]),_:1})],34)])}}}),X="_wrapper_1i2oe_10",Y="_info_1i2oe_18",Z={wrapper:X,info:Y,"--success-status":"_--success-status_1i2oe_21","--error-status":"_--error-status_1i2oe_24"},ee={$style:Z},ie=K(W,[["__cssModules",ee]]);export{ie as default};

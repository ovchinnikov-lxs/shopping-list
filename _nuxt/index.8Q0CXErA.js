import{i as y,r as g,j as x,k as w,o as m,c as d,n as S,l as $,a as V,m as i,q as C,b as h,s as l,x as b,w as k,F as R,h as T,y as U,d as P,z,_ as L}from"./entry.TUuD0Sai.js";import{_ as N}from"./UiButton.vue.6pPpyyq8.js";import{_ as B}from"./_plugin-vue_export-helper.x3n3nnut.js";const E=["value"],I=y({__name:"UiTextarea",props:{modelValue:{}},emits:["update:modelValue"],setup(c,{emit:e}){const n=c,s=g();function r(){if(!s.value)return!1;s.value.style.height="5px",s.value.style.height=s.value.scrollHeight+"px"}function t(o){const a=o.target;e("update:modelValue",a.value),r()}return x(()=>n.modelValue,async()=>{await S(),r()}),w(()=>{r()}),(o,a)=>(m(),d("textarea",{ref_key:"textareaRef",ref:s,value:o.modelValue,cols:"1",class:"UiTextarea --medium-size",onInput:t},null,40,E))}});let M=(c=21)=>crypto.getRandomValues(new Uint8Array(c)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const A=z(()=>L(()=>import("./ListItem.knGi2cSL.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).then(c=>c.default||c)),F={class:"IndexPage"},q=y({__name:"index",setup(c){const e=$();function n(){const t=g("");return{actualValue:t,onSubmit:async()=>{if(!t.value)return!1;t.value.split(`
`).forEach(a=>{const[_,p]=a.split(/,\s*|,/);e.addProduct({id:M(4),product:{name:_,count:Number(p||1),icon:"custom"}})}),t.value="",setTimeout(()=>{const a=document.querySelector("#product-input");a==null||a.focus()},100)}}}const{onSubmit:s,actualValue:r}=n();return(t,o)=>{const a=I,_=N,p=A;return m(),d("div",F,[V("div",{class:i(t.$style.wrapper)},[V("form",{class:i(t.$style.header),onSubmit:o[1]||(o[1]=C((...u)=>l(s)&&l(s)(...u),["prevent"]))},[h(a,{id:"product-input",modelValue:l(r),"onUpdate:modelValue":o[0]||(o[0]=u=>b(r)?r.value=u:null),placeholder:"Введите название",class:i(t.$style.input)},null,8,["modelValue","class"]),h(_,{disabled:!l(r),class:i(t.$style.button)},{default:k(()=>[P(" Добавить ")]),_:1},8,["disabled","class"])],34),l(e).hasCurrent?(m(),d("ul",{key:0,class:i(t.$style.list)},[(m(!0),d(R,null,T(l(e).current,(u,f)=>(m(),d("li",{key:f},[h(p,{icon:u.icon,name:u.name,count:u.count,onRemove:v=>l(e).removeProduct(f),onChange:v=>l(e).changeProduct(f,{...u,...v})},null,8,["icon","name","count","onRemove","onChange"])]))),128))],2)):U("",!0)],2)])}}}),H="_wrapper_10iur_10",j="_header_10iur_22",D="_input_10iur_28",O="_button_10iur_37",G="_list_10iur_41",J={wrapper:H,header:j,input:D,button:O,list:G},K={$style:J},Y=B(q,[["__cssModules",K]]);export{Y as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./ListItem.knGi2cSL.js","./svg-icon.vue.0xPXMXie.js","./entry.TUuD0Sai.js","./entry.ZaMkzaTw.css","./_plugin-vue_export-helper.x3n3nnut.js","./ListItem.bTU0WuzS.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}

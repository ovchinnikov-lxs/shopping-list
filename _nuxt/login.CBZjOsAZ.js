import{m as w,_ as S}from"./UiButton.vue.C1cofFi6.js";import{e as f,o as l,r as U,S as B,T as I,q as t,j as M,D as N,l as T,m as R,z as k,U as E,f as L,c as m,a as g,t as i,d as r,G as P,p as _,V as z,n as d,E as G,b as O,H as q,W as D,_ as W}from"./entry.DQm97jWm.js";const j=f({__name:"UiInput",setup(b){return(n,u)=>(l(),U(t(w),B(I(n.$attrs)),null,16))}}),A={class:"LoginPage"},H=f({__name:"login",setup(b){const n=M(),u=D(),h=N(),o=T();R({title:()=>o.t("pages.login.title")});const a=k(""),s=E({status:"success",message:""});async function $(){s.message="",s.status="success";try{const{error:e}=await n.auth.signInWithOtp({email:a.value,options:{emailRedirectTo:location.origin+u.app.baseURL+"confirm"}});e?(s.message=o.t("pages.login.info.error")+e.message,s.status="error"):(s.message=o.t("pages.login.info.success"),s.status="success")}catch(e){s.message=o.t("pages.login.info.undefinedError"),s.status="error",console.error("LOGIN_PAGE:ON_SUBMIT:",e)}}const y=L(()=>[[h[`--${s.status}-status`]]]);return(e,c)=>{var p;const C=j,V=S;return l(),m("div",A,[g("form",{class:d(e.$style.wrapper),onSubmit:G($,["prevent"])},[g("h3",null,i(e.$t("pages.login.subtitle")),1),r(C,{id:"login-email",modelValue:t(a),"onUpdate:modelValue":c[0]||(c[0]=v=>P(a)?a.value=v:null),maxlength:"255",autocomplete:"email",required:"",type:"email",placeholder:e.$t("pages.login.input.placeholder"),title:e.$t("pages.login.input.title")},null,8,["modelValue","placeholder","title"]),r(V,{disabled:!((p=t(a))!=null&&p.length)},{default:_(()=>[O(i(e.$t("pages.login.button.submit")),1)]),_:1},8,["disabled"]),r(z,{name:"bottom",mode:"out-in"},{default:_(()=>[t(s).message?(l(),m("div",{key:0,class:d([e.$style.info,t(y)])},i(t(s).message),3)):q("",!0)]),_:1})],34)])}}}),x="_wrapper_1i2oe_10",F="_info_1i2oe_18",J={wrapper:x,info:F,"--success-status":"_--success-status_1i2oe_21","--error-status":"_--error-status_1i2oe_24"},K={$style:J},Y=W(H,[["__cssModules",K]]);export{Y as default};

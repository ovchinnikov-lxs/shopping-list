import{f as g,r as y,g as x,h as w,o as m,c as d,n as S,i as $,a as V,j as i,k as C,b as h,l as u,m as b,w as k,F as R,q as T,s as U,d as P,v as L,_ as N}from"./entry.h5V1I3LZ.js";import{_ as z}from"./UiButton.vue.eJ-C0HSg.js";import{_ as B}from"./_plugin-vue_export-helper.x3n3nnut.js";const E=["value"],I=g({__name:"UiTextarea",props:{modelValue:{}},emits:["update:modelValue"],setup(l,{emit:e}){const a=l,o=y();function r(){if(!o.value)return!1;o.value.style.height="5px",o.value.style.height=o.value.scrollHeight+"px"}function t(n){const s=n.target;e("update:modelValue",s.value),r()}return x(()=>a.modelValue,async()=>{await S(),r()}),w(()=>{r()}),(n,s)=>(m(),d("textarea",{ref_key:"textareaRef",ref:o,value:n.modelValue,cols:"1",class:"UiTextarea --medium-size",onInput:t},null,40,E))}});let M=(l=21)=>crypto.getRandomValues(new Uint8Array(l)).reduce((e,a)=>(a&=63,a<36?e+=a.toString(36):a<62?e+=(a-26).toString(36).toUpperCase():a>62?e+="-":e+="_",e),"");const A=L(()=>N(()=>import("./ListItem.-HbFADzo.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(l=>l.default||l)),F={class:"IndexPage"},q=g({__name:"index",setup(l){const e=$();function a(){const t=y("");return{actualValue:t,onSubmit:async()=>{if(!t.value)return!1;t.value.split(`
`).forEach(s=>{const[_,p]=s.split(/,\s*|,/);e.addProduct({id:M(4),product:{name:_,count:Number(p||1)}})}),t.value="",setTimeout(()=>{const s=document.querySelector("#product-input");s==null||s.focus()},100)}}}const{onSubmit:o,actualValue:r}=a();return(t,n)=>{const s=I,_=z,p=A;return m(),d("div",F,[V("div",{class:i(t.$style.wrapper)},[V("form",{class:i(t.$style.header),onSubmit:n[1]||(n[1]=C((...c)=>u(o)&&u(o)(...c),["prevent"]))},[h(s,{id:"product-input",modelValue:u(r),"onUpdate:modelValue":n[0]||(n[0]=c=>b(r)?r.value=c:null),placeholder:"Введите название",class:i(t.$style.input)},null,8,["modelValue","class"]),h(_,{disabled:!u(r),class:i(t.$style.button)},{default:k(()=>[P(" Добавить ")]),_:1},8,["disabled","class"])],34),u(e).hasCurrent?(m(),d("ul",{key:0,class:i(t.$style.list)},[(m(!0),d(R,null,T(u(e).current,(c,f)=>(m(),d("li",{key:f},[h(p,{name:c.name,count:c.count,onRemove:v=>u(e).removeProduct(f),onChange:v=>u(e).changeProduct(f,{...c,...v})},null,8,["name","count","onRemove","onChange"])]))),128))],2)):U("",!0)],2)])}}}),H="_wrapper_10iur_10",j="_header_10iur_22",D="_input_10iur_28",O="_button_10iur_37",G="_list_10iur_41",J={wrapper:H,header:j,input:D,button:O,list:G},K={$style:J},Y=B(q,[["__cssModules",K]]);export{Y as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./ListItem.-HbFADzo.js","./entry.h5V1I3LZ.js","./entry.ZaMkzaTw.css","./_plugin-vue_export-helper.x3n3nnut.js","./ListItem.xMp-x_XB.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
